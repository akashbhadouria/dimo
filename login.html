<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./login.css">
    <title>Login Page</title>
</head>
<body>
        <!-- Navbar -->
        <nav>
            <div class="head">
            <ul>
                <a href="./index.html" class="a"><li>Home</li></a>
                <a href="./signup.html" class="a"><li>Signup</li></a>
                 <a href="./login.html" class="a"><li>Login</li></a>
            </ul>
    
        </div>
        </nav>

        <!-- Login Form -->
        <div id="login_box">

            <form id="loginForm" onsubmit="loginUser(event)">
                <h1>Login</h1>

               <input type="text" name="login" id="email" placeholder="Enter your Email">
               <br><br>
               <input type="password" name="password" id="password" placeholder="Enter your Password"> 
               <br><br>
                <button type="submit">Submit</button>

            </form>
        </div>
</body>
</html>

<script>
    

function loginUser(event) {
    event.preventDefault();


    let form = document.getElementById("loginForm");
    let pass = document.getElementById("password");
    let em = document.getElementById("email");
    

   
    let registeredUsers = JSON.parse(localStorage.getItem("users")) || [];
    // console.log(registeredUsers);

    registeredUsers.map(function(elem) {
        console.log(elem.email,elem.password);

        let email = form.email.value;
        let password = form.password.value; 
        
        console.log(email,password);

        if(email === elem.email && password === elem.password) {
            window.location.href = "./index.html";
        } else {
            alert("Wrong Credentials, retry!");
        }
    });


    pass.innerText = null;
    em.innerHTML = null;
    
}


</script>